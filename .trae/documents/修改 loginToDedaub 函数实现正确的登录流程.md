根据用户的要求，我将更新 loginToDedaub 函数，实现一个符合浏览器行为的登录流程：

1. **直接使用初始请求**：
   - 使用用户提供的完整 URL 作为起点
   - 使用用户提供的所有请求头
   - 提交包含用户名和密码的表单数据

2. **处理重定向**：
   - 发送初始请求后，检查服务器的响应
   - 如果返回重定向（302 Found），使用返回的 Location 头发起新的请求
   - 继续处理重定向，直到到达最终页面

3. **收集和保存 cookie**：
   - 在整个流程中，收集所有服务器返回的 cookie
   - 特别关注认证相关的 cookie
   - 最终将所有有效 cookie 保存到文件中

4. **验证登录结果**：
   - 检查是否成功获取到有效的认证 cookie
   - 确保 cookie 管理器正确保存了所有必要的 cookie

这个实现将直接使用用户提供的初始请求，然后模仿浏览器的行为处理后续的重定向，最终获取并保存有效的 Dedaub 认证 cookie。